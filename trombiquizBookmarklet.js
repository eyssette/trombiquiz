javascript:!function(){let e,n,t,o,i,s,l;const r=function(){const n=window.location.href;if(n.indexOf("pronote")>-1)return e=document.body.querySelectorAll('div[role="main"] img'),t=e=>e.alt.includes("Photo de"),o=e=>Array.from(e.classList).includes("ie-imgviewer"),i=e=>!(e.length<3),s=e=>e.dataset.src,l=e=>{const n=s(e).split("?")[0],t=n.lastIndexOf("/"),o=decodeURIComponent(n.substring(t+1).replace(".jpg","")),i=o.search(/[a-zà-ÿ]/),l=o.substring(i-1),r=o.substring(0,i-1).replaceAll("_"," ");return l.replaceAll("_"," ")+" "+r},!0;if(n.indexOf("moodle")>-1||n.indexOf("magistere")>-1)return e=document.body.querySelectorAll("th img"),t=e=>e.classList.contains("userpicture"),o=e=>!0,i=e=>!0,s=e=>e.src.replace("f2?rev=","f3?rev="),l=e=>e.parentNode.textContent,!0;if(n.indexOf("ecoledirecte")>-1)return e=document.body.querySelectorAll(".panel-eleve img"),t=e=>e.alt.includes("élève"),o=e=>!e.src.includes("eleve"),i=e=>!0,s=e=>e.src,l=e=>e.parentNode.querySelector("p").textContent,!0;if(n.indexOf("oneconnect")>-1){e=document.body.querySelectorAll(".item.user div.top"),t=e=>!0,o=e=>!0,i=e=>!0;const n=/"(?<url>.*?)"/;return s=e=>e.style.backgroundImage.match(n).groups.url,l=e=>e.parentNode.querySelector(".bottom span.ng-binding").textContent,!0}return!!document.body.classList.contains("apprendre-prenoms")&&(e=document.body.querySelectorAll("#image-list img"),t=e=>!0,o=e=>!0,i=e=>!0,s=e=>e.src,l=e=>e.parentNode.querySelector("span[contenteditable]").textContent,!0)}();if(0==r)return void alert("Attention, cet outil ne fonctionne que sur certains sites : \nsur Pronote, Ouvrez Pronote en ligne, puis allez dans Mes données / Classes/élèves / Trombinoscope");if(n=Array.from(e),!i(n))return void alert("Pour que l'outil fonctionne, il faut aller dans Mes données / Classes/élèves / Trombinoscope, puis sélectionner une classe");window.confirm('Apprendre les prénoms :\n- Par ordre aléatoire → clic sur OK (ou touche "Enter").\n- Par ordre alphabétique → clic sur Annuler (ou touche "Esc")\n\nAttention, pour que l\'outil fonctionne, il faut que toutes les photos des élèves soient visibles sur la page. \n\nVotre navigateur bloquera l\'outil si vous mettez trop de temps à cliquer : relancez-le ou autorisez les pop-up')&&function(e){for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}}(n);!function(e){var n=window.open();n&&!n.closed&&function(e,n){e.document.open(),e.document.write(n),e.document.close()}(n,e)}(function(e){for(var n='<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0"></meta><title>Trombiquiz</title></head><style>div{margin-top:10px; text-align:center;} section, footer, div {display:none;} button {margin:10px;} footer {display: none; justify-content: center; align-items: center; height: 50%; font-size: 20px;} .noPhotos{display:block!important;} b{display:block;margin-top:2em;}img{height:350px;}</style><body>',i=0;i<e.length;i++){const r=e[i];if(t(r)){const e=s(r),t=l(r);n+='<div class="eleve">',n+='<img src="'+e+'" /><br>',o(r)?(n+='<button onclick="montrerNomPrenom()">Montrer la réponse</button>',n+='<section class="sectionReponse">'+t+"<br>"):n+='<section class="sectionReponse noPhotos"><b>Pas de photo disponible !</b><br>'+t+"<br>",n+='<button onclick="difficile()">Difficile</button>',n+='<button onclick="facile()">Facile</button></section></div>'}}return n+="<footer>Bravo, vous connaissez tous les élèves de votre classe !</footer>",n+='<script>\n      let end = false;\n      let index = 0;\n      let show = false;\n      let indexElevesFaciles = [];\n\n      const eleves = document.querySelectorAll(".eleve");\n      eleves[index].style.display = "block";\n\n      const sectionsReponse = document.querySelectorAll(".sectionReponse");\n\n      function montrerNomPrenom() {\n        sectionsReponse[index].style.display = "block";\n        show = true;\n      }\n\n      function eleveSuivant() {\n\t\tdo {\n          sectionsReponse[index].style.display = "none";\n          eleves[index].style.display = "none";\n          index = (index + 1) % eleves.length;\n        } while (indexElevesFaciles.includes(index) && index < eleves.length);\n        eleves[index].style.display = "block";\n      }\n      function difficile() {\n        show = false;\n        eleveSuivant();\n      }\n      function facile() {\n        show = false;\n        indexElevesFaciles.push(index);\n        if (indexElevesFaciles.length == eleves.length) {\n          end = true;\n          const footer = document.querySelector("footer");\n          eleves[index].style.display = "none";\n          footer.style.display = "flex";\n        } else {\n          eleveSuivant();\n        }\n      }\n      window.addEventListener("keydown", function (event) {\n        if (event.key === "Enter" && !end) {\n          montrerNomPrenom();\n        }\n        const isNoPhoto = eleves[index].querySelector(".noPhotos") !== null;\n\n        if (event.key === "ArrowLeft" && (show || isNoPhoto)) {\n          difficile();\n        }\n        if (event.key === "ArrowRight" && (show || isNoPhoto)) {\n          facile();\n        }\n      });\n    <\/script>',n+="</body></html>"}(n))}();